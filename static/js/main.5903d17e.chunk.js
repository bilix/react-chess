(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{23:function(e,n,r){e.exports=r(38)},28:function(e,n,r){},31:function(e,n,r){},38:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),c=r(9),o=r.n(c),i=(r(28),r(2)),u=r(3);function l(){var e=Object(i.a)(['\n    display: grid;\n    grid-template-columns: auto auto auto;\n    grid-template-rows: 75px auto auto;\n    grid-template-areas: "....  header  ...."\n                         "player1  board  player2"\n                         "....  actions  ....";\n    grid-auto-columns: min-content;\n']);return l=function(){return e},e}var s=u.a.div(l()),d=(r(31),r(11));function f(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    ","\n    \n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n    background-color: #491E10;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    ","\n    ","\n    ","\n    ","\n"]);return b=function(){return e},e}function p(){var e=Object(i.a)(["\n    font-size: 45px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    position: relative;\n    ","\n"]);return p=function(){return e},e}function v(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 20px repeat(8, 75px) 20px;\n    grid-template-rows: 20px repeat(8, 75px) 20px;\n    grid-area: board;\n    justify-self: center;\n    align-self: center;\n"]);return v=function(){return e},e}var h,m=u.a.div(v()),y=u.a.div(p(),(function(e){return e.selected?"\n                background-color: rgb(4, 41, 247, 0.7);\n                border: 4px solid rgb(4, 41, 247);\n            ":e.killable?"\n                background-color: rgb(244, 57, 0, 0.7);\n                border: 4px solid rgb(244, 57, 0);\n                cursor: pointer;\n            ":e.available?"\n                background-color: rgb(27, 145, 11, 0.7);\n                border: 4px solid rgb(27, 145, 11);\n                cursor: pointer;\n                ".concat(g(e.adjacent),"\n            "):e.white?"\n                background-color: rgb(223, 203, 167, 1);\n            ":"\n                background-color: rgb(125, 67, 38, 1)\n            "})),g=function(e){var n="";if(e&&0!==e.length){var r,t=Object(d.a)(e);try{for(t.s();!(r=t.n()).done;){var a=r.value;n+="\n            border-".concat(a,"-width: 2px;\n        ")}}catch(c){t.e(c)}finally{t.f()}return n}},j=u.a.div(b(),(function(e){return e.top&&"\n        border-bottom: 1px solid #DFCBA7;\n    "}),(function(e){return e.bottom&&"\n        border-top: 1px solid #DFCBA7;\n    "}),(function(e){return e.left&&"\n        border-right: 1px solid #DFCBA7;\n    "}),(function(e){return e.right&&"\n        border-left: 1px solid #DFCBA7;\n    "})),w=u.a.div(f(),(function(e){if(e.currentPlayer)return"cursor: pointer;"})),O=r(1),x=r(8),k=r(4),P=r(5),E=r(6),F=function e(n){Object(k.a)(this,e),this.calculatePossibleMoves=function(){return[]},this.calculateDiagonalMoves=function(e,n,r){for(var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)},o=e-9;o>0&&o%8!==0&&!a(o);o-=9){if(c(o)){t.push(o);break}t.push(o)}for(var i=e-7;i>0&&i%8!==1&&!a(i);i-=7){if(c(i)){t.push(i);break}t.push(i)}for(var u=e+7;u<64&&u%8!==0&&!a(u);u+=7){if(c(u)){t.push(u);break}t.push(u)}for(var l=e+9;l<64&&l%8!==1&&!a(l);l+=9){if(c(l)){t.push(l);break}t.push(l)}return t},this.calculateVerticalHorizontalMoves=function(e,n,r){for(var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)},o=e-8;o>0&&!a(o);o-=8){if(c(o)){t.push(o);break}t.push(o)}for(var i=e+8;i<64&&!a(i);i+=8){if(c(i)){t.push(i);break}t.push(i)}for(var u=e-1;u%8!==0&&!a(u);u-=1){if(c(u)){t.push(u);break}t.push(u)}for(var l=e+1;l%8!==1&&!a(l);l+=1){if(c(l)){t.push(l);break}t.push(l)}return t},this.addIfNotFriendly=function(e,n,r){n.includes(e)||r.push(e)},this.color=n.color},M=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=[],c=function(e){return r.includes(e)},o=A(e)?0:e,i=K(e)?0:e,u="w"===t.color?e>=49:e<=16;return"w"===t.color?(!c(H(e,1))&&t.addIfNotFriendly(H(e,1),n,a),u&&!c(H(e,1))&&!c(H(e,2))&&t.addIfNotFriendly(H(e,2),n,a),o&&c($(e,1))&&a.push($(e,1)),i&&c(R(e,1))&&a.push(R(e,1))):(!c(V(e,1))&&t.addIfNotFriendly(V(e,1),n,a),u&&!c(V(e,1))&&!c(V(e,2))&&t.addIfNotFriendly(V(e,2),n,a),o&&c(G(e,1))&&a.push(G(e,1)),i&&c(L(e,1))&&a.push(L(e,1))),a},t.icon="w"===t.color?"\u2659":"\u265f",t.name="".concat(t.color,"p"),t}return r}(F),N=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){var r=[],a=e-17,c=e-15,o=e-10,i=e-6,u=e+15,l=e+17,s=e+6,d=e+10,f=function(e){return A(e)||e%8===2},b=function(e){return K(e)||e%8===7};return a>0&&!K(a)&&t.addIfNotFriendly(a,n,r),c>0&&!A(c)&&t.addIfNotFriendly(c,n,r),o>0&&!b(o)&&t.addIfNotFriendly(o,n,r),i>0&&!f(i)&&t.addIfNotFriendly(i,n,r),u<64&&!K(u)&&t.addIfNotFriendly(u,n,r),l<64&&!A(l)&&t.addIfNotFriendly(l,n,r),s<64&&!b(s)&&t.addIfNotFriendly(s,n,r),d<64&&!f(d)&&t.addIfNotFriendly(d,n,r),r},t.icon="w"===e.color?"\u2658":"\u265e",t.name="".concat(t.color,"h"),t}return r}(F),I=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateVerticalHorizontalMoves(e,n,r)},t.icon="w"===e.color?"\u2656":"\u265c",t.name="".concat(t.color,"r"),t}return r}(F),q=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=t.calculateVerticalHorizontalMoves(e,n,r),c=t.calculateDiagonalMoves(e,n,r);return a.concat(c)},t.icon="w"===e.color?"\u2655":"\u265b",t.name="".concat(t.color,"q"),t}return r}(F),B=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){var r=[],a=H(e,1),c=V(e,1),o=W(e,1),i=J(e,1),u=$(e,1),l=R(e,1),s=G(e,1),d=L(e,1);return a>0&&t.addIfNotFriendly(a,n,r),c<64&&t.addIfNotFriendly(c,n,r),A(o)||t.addIfNotFriendly(o,n,r),K(i)||t.addIfNotFriendly(i,n,r),u>0&&!A(u)&&t.addIfNotFriendly(u,n,r),l>0&&!K(l)&&t.addIfNotFriendly(l,n,r),s<64&&!A(s)&&t.addIfNotFriendly(s,n,r),d<64&&!K(d)&&t.addIfNotFriendly(d,n,r),r},t.icon="w"===e.color?"\u2654":"\u265a",t.name="".concat(t.color,"k"),t}return r}(F),S=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateDiagonalMoves(e,n,r)},t.icon="w"===e.color?"\u2657":"\u265d",t.name="".concat(t.color,"b"),t}return r}(F),_=[8,7,6,5,4,3,2,1],z=["","a","b","c","d","e","f","g","h",""],C=function(e,n){switch(e){case"p":return new M({color:n});case"r":return new I({color:n});case"h":return new N({color:n});case"q":return new q({color:n});case"k":return new B({color:n});case"b":return new S({color:n});default:return null}},D=function(e,n,r){var t=[],a=e-1,c=e+1,o=e-8,i=e+8,u=function(e,n){return!function(e){return!!r[e-1]}(e)&&t.push(n)};return n.includes(a)&&!K(a)&&u(a,"left"),n.includes(c)&&!A(c)&&u(c,"right"),n.includes(o)&&o>0&&u(o,"top"),n.includes(i)&&i<64&&u(i,"bottom"),t},K=function(e){return e%8===0},A=function(e){return e%8===1},H=function(e,n){return e-8*n},V=function(e,n){return e+8*n},W=function(e,n){return e-n},J=function(e,n){return e+n},R=function(e,n){return e-7*n},$=function(e,n){return e-9*n},G=function(e,n){return e+7*n},L=function(e,n){return e+9*n},Q={board:["br","bh","bb","bq","bk","bb","bh","br","bp","bp","bp","bp","bp","bp","bp","bp","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","wp","wp","wp","wp","wp","wp","wp","wp","wr","wh","wb","wq","wk","wb","wh","wr"],selectedPiece:{square:0,piece:""},availableMoves:[],player1KilledPieces:[],player2KilledPieces:[]},T=Object(x.b)({name:"board",initialState:Q,reducers:{selectSquare:function(e,n){e.selectedPiece=n.payload},removeSquareSelection:function(e){e.selectedPiece={square:0,piece:""}},setMoves:function(e,n){e.availableMoves=n.payload},movePiece:function(e,n){var r=e.board[n.payload-1];if(r){var t=r[0],a=r[1];"w"===t?e.player1KilledPieces.push(a):e.player2KilledPieces.push(a)}e.board[e.selectedPiece.square-1]="",e.board[n.payload-1]=e.selectedPiece.piece,e.selectedPiece={square:0,piece:""},e.availableMoves=[]},resetBoard:function(e){return Q}}}),U=T.reducer,X=T.actions,Y=function(e,n){for(var r=[],t=1===e?"w":"b",a=0;a<n.length;a++)n[a]&&n[a][0]===t&&r.push(a+1);return r},Z=function(e){return e.board},ee=X.selectSquare,ne=(X.removeSquareSelection,X.setMoves),re=X.movePiece,te=X.resetBoard,ae=U,ce=a.a.memo((function(e){var n=e.squareNumber,r=e.children,t=Object(O.c)((function(e){return Z(e)})),c=Object(O.b)(),o=t.availableMoves.includes(n);if(o)var i=D(n,t.availableMoves,t.board);var u=n===t.selectedPiece.square,l=o&&null!==r,s=function(e){var n=Math.ceil(e/8)%2===1;return n&&e%8%2===1||!n&&e%8%2===0}(n);return a.a.createElement(y,{adjacent:i,onClick:function(){o&&c(re(n))},key:"square_".concat(n),killable:l,available:o,selected:u,white:s},r)})),oe=r(16),ie=Object(x.b)({name:"players",initialState:{currentPlayer:1},reducers:{selectPlayer:function(e,n){e.currentPlayer=n.payload}},extraReducers:(h={},Object(oe.a)(h,re,(function(e){e.currentPlayer=1===e.currentPlayer?2:1})),Object(oe.a)(h,te,(function(e){e.currentPlayer=1})),h)}),ue=ie.reducer,le=ie.actions,se=function(e){return e.players.currentPlayer},de=(le.selectPlayer,ue),fe=a.a.memo((function(e){var n=e.piece,r=e.position,t=Object(O.c)((function(e){return se(e)})),c=Object(O.c)((function(e){return function(e){var n=e.board.board;return Y(1,n)}(e)})),o=Object(O.c)((function(e){return function(e){var n=e.board.board;return Y(2,n)}(e)})),i=Object(O.b)(),u="w"===n.color?1:2,l=1===u?c:o,s=1===u?o:c,d=u===t;return a.a.createElement(w,{currentPlayer:d,onClick:function(){if(!d)return null;i(ee({square:r,piece:n.name}));var e=n.calculatePossibleMoves(r,l,s);i(ne(e))}},n.icon)})),be=function(){var e=function(e){var n,r=[],t=1,a=Object(d.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c){var o=c[0],i=c[1];r.push({piece:C(i,o),id:t++})}else r.push({id:t++,piece:null})}}catch(u){a.e(u)}finally{a.f()}return r}(Object(O.c)((function(e){return Z(e)})).board);return a.a.createElement(m,null,z.map((function(e,n){return a.a.createElement(j,{key:"border_top_".concat(n),top:!!e},e)})),e.map((function(e){return function(e){var n=Math.ceil(e.id/8),r=A(e.id),t=K(e.id);return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(j,{key:"border_left_".concat(_[n-1]),left:!0},_[n-1]),a.a.createElement(ce,{squareNumber:e.id},e.piece&&a.a.createElement(fe,{position:e.id,piece:e.piece})),t&&a.a.createElement(j,{key:"border_right_".concat(_[n-1]),right:!0},_[n-1]))}(e)})),z.map((function(e,n){return a.a.createElement(j,{key:"border_bottom_".concat(n),bottom:!!e},e)})))},pe=Object(x.a)({reducer:{board:ae,players:de}});function ve(){var e=Object(i.a)(["\n    grid-area: header;\n    align-self: center;\n    justify-self: center;\n    font-weight: bold;\n    font-size: 25px;\n"]);return ve=function(){return e},e}var he=u.a.div(ve()),me=function(){var e=1===Object(O.c)((function(e){return se(e)}))?"White":"Black";return a.a.createElement(he,null,"Current player: ".concat(e))};function ye(){var e=Object(i.a)(["\n    font-size: 45px;\n"]);return ye=function(){return e},e}function ge(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    padding: 40px 0;\n    min-width: 200px;\n"]);return ge=function(){return e},e}function je(){var e=Object(i.a)(["\n    font-weight: bold;\n    font-size: 20px;\n    align-text: center;\n"]);return je=function(){return e},e}function we(){var e=Object(i.a)(["\n    ","\n    justify-self: center;\n    padding: 50px 15px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n"]);return we=function(){return e},e}var Oe=u.a.div(we(),(function(e){return 1===e.player?"\n                grid-area: player1;\n            ":"\n                grid-area: player2;\n            "})),xe=u.a.div(je()),ke=u.a.div(ge()),Pe=u.a.div(ye()),Ee=function(e){var n=e.player,r=e.piece,t=C(r,1===n?"w":"b");return a.a.createElement(Pe,null,t.icon)},Fe=function(e){var n=e.player,r=Object(O.c)((function(e){return 1===n?function(e){return e.board.player1KilledPieces}(e):function(e){return e.board.player2KilledPieces}(e)}));return a.a.createElement(Oe,{player:n},a.a.createElement(xe,null,"Player ",n),a.a.createElement(ke,null,r.map((function(e){return a.a.createElement(Ee,{piece:e,player:n})}))))};function Me(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    grid-area: actions;\n    height: 75px;\n"]);return Me=function(){return e},e}function Ne(){var e=Object(i.a)(["\n    padding: 10px 20px;\n    color: white;\n    background-color: rgb(12, 138, 242);\n    border-radius: 5px;\n    cursor: pointer;\n    border: 0;\n    font-size: 20px;\n"]);return Ne=function(){return e},e}var Ie=u.a.button(Ne()),qe=u.a.div(Me()),Be=a.a.memo((function(){var e=Object(O.b)();return a.a.createElement(Ie,{onClick:function(){e(te())}},"Reset Board")})),Se=a.a.memo((function(){return a.a.createElement(qe,null,a.a.createElement(Be,null))}));var _e=function(){return a.a.createElement(O.a,{store:pe},a.a.createElement(s,null,a.a.createElement(me,null),a.a.createElement(Fe,{player:1}),a.a.createElement(be,null),a.a.createElement(Fe,{player:2}),a.a.createElement(Se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.5903d17e.chunk.js.map