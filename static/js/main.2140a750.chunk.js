(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{23:function(e,n,r){e.exports=r(38)},28:function(e,n,r){},31:function(e,n,r){},38:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),c=r(9),o=r.n(c),i=(r(28),r(2)),l=r(3);function u(){var e=Object(i.a)(['\n    display: grid;\n    grid-template-columns: auto auto auto;\n    grid-template-rows: 75px auto auto;\n    grid-template-areas: "....  header  ...."\n                         "player1  board  player2"\n                         "....  actions  ....";\n    grid-auto-columns: min-content;\n']);return u=function(){return e},e}var d=l.a.div(u()),s=(r(31),r(11));function f(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    ","\n    \n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n    background-color: #491E10;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    ","\n    ","\n    ","\n    ","\n"]);return b=function(){return e},e}function p(){var e=Object(i.a)(["\n    font-size: 45px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    position: relative;\n    ","\n"]);return p=function(){return e},e}function v(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 20px repeat(8, 75px) 20px;\n    grid-template-rows: 20px repeat(8, 75px) 20px;\n    grid-area: board;\n    justify-self: center;\n    align-self: center;\n    background-image: linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%),\n    linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%),\n    linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%),\n    linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%);\n    background-size: 13px, 29px, 37px, 53px;\n"]);return v=function(){return e},e}var h,y=l.a.div(v()),m=l.a.div(p(),(function(e){return e.selected?"\n                background-color: rgb(4, 41, 247, 0.7);\n                border: 4px solid rgb(4, 41, 247);\n            ":e.killable?"\n                background-color: rgb(244, 57, 0, 0.7);\n                border: 4px solid rgb(244, 57, 0);\n                cursor: pointer;\n            ":e.available?"\n                background-color: rgb(27, 145, 11, 0.7);\n                border: 4px solid rgb(27, 145, 11);\n                cursor: pointer;\n                ".concat(g(e.adjacent),"\n            "):e.white?"\n                background-color: rgb(223, 203, 167, 1);\n            ":"\n                background-color: rgb(125, 67, 38, 1)\n            "})),g=function(e){var n="";if(e&&0!==e.length){var r,t=Object(s.a)(e);try{for(t.s();!(r=t.n()).done;){var a=r.value;n+="\n            border-".concat(a,"-width: 2px;\n        ")}}catch(c){t.e(c)}finally{t.f()}return n}},j=l.a.div(b(),(function(e){return e.top&&"\n        border-bottom: 1px solid #DFCBA7;\n    "}),(function(e){return e.bottom&&"\n        border-top: 1px solid #DFCBA7;\n    "}),(function(e){return e.left&&"\n        border-right: 1px solid #DFCBA7;\n    "}),(function(e){return e.right&&"\n        border-left: 1px solid #DFCBA7;\n    "})),w=l.a.div(f(),(function(e){if(e.currentPlayer)return"cursor: pointer;"})),O=r(1),x=r(8),k=r(4),P=r(5),E=r(6),F=function e(n){Object(k.a)(this,e),this.calculatePossibleMoves=function(){return[]},this.calculateDiagonalMoves=function(e,n,r){for(var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)},o=e-9;o>0&&o%8!==0&&!a(o);o-=9){if(c(o)){t.push(o);break}t.push(o)}for(var i=e-7;i>0&&i%8!==1&&!a(i);i-=7){if(c(i)){t.push(i);break}t.push(i)}for(var l=e+7;l<64&&l%8!==0&&!a(l);l+=7){if(c(l)){t.push(l);break}t.push(l)}for(var u=e+9;u<64&&u%8!==1&&!a(u);u+=9){if(c(u)){t.push(u);break}t.push(u)}return t},this.calculateVerticalHorizontalMoves=function(e,n,r){for(var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)},o=e-8;o>0&&!a(o);o-=8){if(c(o)){t.push(o);break}t.push(o)}for(var i=e+8;i<64&&!a(i);i+=8){if(c(i)){t.push(i);break}t.push(i)}for(var l=e-1;l%8!==0&&!a(l);l-=1){if(c(l)){t.push(l);break}t.push(l)}for(var u=e+1;u%8!==1&&!a(u);u+=1){if(c(u)){t.push(u);break}t.push(u)}return t},this.addIfNotFriendly=function(e,n,r){n.includes(e)||r.push(e)},this.color=n.color},M=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=[],c=function(e){return r.includes(e)},o=e%8===1?0:e,i=e%8===0?0:e,l="w"===t.color?e>=49:e<=16;return"w"===t.color?(!c(e-8)&&t.addIfNotFriendly(e-8,n,a),l&&!c(e-8)&&!c(e-16)&&t.addIfNotFriendly(e-16,n,a),o&&c(e-9)&&a.push(e-9),i&&c(e-7)&&a.push(e-7)):(!c(e+8)&&t.addIfNotFriendly(e+8,n,a),l&&!c(e+8)&&!c(e+16)&&t.addIfNotFriendly(e+16,n,a),o&&c(e+7)&&a.push(e+7),i&&c(e+9)&&a.push(e+9)),a},t.icon="w"===t.color?"\u2659":"\u265f",t.name="".concat(t.color,"p"),t}return r}(F),I=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){var r=[],a=e-17,c=e-15,o=e-10,i=e-6,l=e+15,u=e+17,d=e+6,s=e+10;return a>0&&a%8!==0&&t.addIfNotFriendly(a,n,r),c>0&&c%8!==1&&t.addIfNotFriendly(c,n,r),o>0&&o%8!==0&&o%8!==7&&t.addIfNotFriendly(o,n,r),i>0&&i%8!==1&&i%8!==2&&t.addIfNotFriendly(i,n,r),l<64&&l%8!==0&&t.addIfNotFriendly(l,n,r),u<64&&u%8!==1&&t.addIfNotFriendly(u,n,r),d<64&&d%8!==0&&d%8!==7&&t.addIfNotFriendly(d,n,r),s<64&&s%8!==1&&s%8!==2&&t.addIfNotFriendly(s,n,r),r},t.icon="w"===e.color?"\u2658":"\u265e",t.name="".concat(t.color,"h"),t}return r}(F),N=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateVerticalHorizontalMoves(e,n,r)},t.icon="w"===e.color?"\u2656":"\u265c",t.name="".concat(t.color,"r"),t}return r}(F),q=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=t.calculateVerticalHorizontalMoves(e,n,r),c=t.calculateDiagonalMoves(e,n,r);return a.concat(c)},t.icon="w"===e.color?"\u2655":"\u265b",t.name="".concat(t.color,"q"),t}return r}(F),B=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=[],c=e-8,o=e+8,i=e-1,l=e+1,u=e-9,d=e-7,s=e+7,f=e+9;return c>0&&t.addIfNotFriendly(c,n,a),o<64&&t.addIfNotFriendly(o,n,a),i%8!==1&&t.addIfNotFriendly(i,n,a),l%8!==0&&t.addIfNotFriendly(l,n,a),u>0&&u%8!==1&&t.addIfNotFriendly(u,n,a),d>0&&d%8!==0&&t.addIfNotFriendly(d,n,a),s<64&&s%8!==1&&t.addIfNotFriendly(s,n,a),f<64&&f%8!==0&&t.addIfNotFriendly(f,n,a),a},t.icon="w"===e.color?"\u2654":"\u265a",t.name="".concat(t.color,"k"),t}return r}(F),z=function(e){Object(E.a)(r,e);var n=Object(P.a)(r);function r(e){var t;return Object(k.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateDiagonalMoves(e,n,r)},t.icon="w"===e.color?"\u2657":"\u265d",t.name="".concat(t.color,"b"),t}return r}(F),S=[8,7,6,5,4,3,2,1],_=["","a","b","c","d","e","f","g","h",""],C=function(e,n){switch(e){case"p":return new M({color:n});case"r":return new N({color:n});case"h":return new I({color:n});case"q":return new q({color:n});case"k":return new B({color:n});case"b":return new z({color:n});default:return null}},D={board:["br","bh","bb","bq","bk","bb","bh","br","bp","bp","bp","bp","bp","bp","bp","bp","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","wp","wp","wp","wp","wp","wp","wp","wp","wr","wh","wb","wq","wk","wb","wh","wr"],selectedPiece:{square:0,piece:""},availableMoves:[],player1KilledPieces:[],player2KilledPieces:[]},K=Object(x.b)({name:"board",initialState:D,reducers:{selectSquare:function(e,n){e.selectedPiece=n.payload},removeSquareSelection:function(e){e.selectedPiece={square:0,piece:""}},setMoves:function(e,n){e.availableMoves=n.payload},movePiece:function(e,n){var r=e.board[n.payload-1];if(r){var t=r[0],a=r[1];"w"===t?e.player1KilledPieces.push(a):e.player2KilledPieces.push(a)}e.board[e.selectedPiece.square-1]="",e.board[n.payload-1]=e.selectedPiece.piece,e.selectedPiece={square:0,piece:""},e.availableMoves=[]},resetBoard:function(e){return D}}}),A=K.reducer,H=K.actions,V=function(e,n){for(var r=[],t=1===e?"w":"b",a=0;a<n.length;a++)n[a]&&n[a][0]===t&&r.push(a+1);return r},W=function(e){return e.board},J=H.selectSquare,R=(H.removeSquareSelection,H.setMoves),$=H.movePiece,G=H.resetBoard,L=A,Q=function(e,n,r){var t=[],a=e-1,c=e+1,o=e-8,i=e+8,l=function(e,n){return!function(e){return!!r[e-1]}(e)&&t.push(n)};return n.includes(a)&&a%8!==0&&l(a,"left"),n.includes(c)&&c%8!==1&&l(c,"right"),n.includes(o)&&o>0&&l(o,"top"),n.includes(i)&&i<64&&l(i,"bottom"),t},T=function(e){var n=e.id,r=e.children,t=Object(O.c)((function(e){return W(e)})),c=Object(O.b)(),o=t.availableMoves.includes(n);if(o)var i=Q(n,t.availableMoves,t.board);var l=n===t.selectedPiece.square,u=o&&null!==r,d=function(e){var n=Math.ceil(e/8)%2===1;return n&&e%8%2===1||!n&&e%8%2===0}(n);return a.a.createElement(m,{adjacent:i,onClick:function(){o&&c($(n))},key:"square_".concat(n),killable:u,available:o,selected:l,white:d},r)},U=r(16),X=Object(x.b)({name:"players",initialState:{currentPlayer:1},reducers:{selectPlayer:function(e,n){e.currentPlayer=n.payload}},extraReducers:(h={},Object(U.a)(h,$,(function(e){e.currentPlayer=1===e.currentPlayer?2:1})),Object(U.a)(h,G,(function(e){e.currentPlayer=1})),h)}),Y=X.reducer,Z=X.actions,ee=function(e){return e.players.currentPlayer},ne=(Z.selectPlayer,Y),re=a.a.memo((function(e){var n=e.piece,r=e.position,t=Object(O.c)((function(e){return ee(e)})),c=Object(O.c)((function(e){return function(e){var n=e.board.board;return V(1,n)}(e)})),o=Object(O.c)((function(e){return function(e){var n=e.board.board;return V(2,n)}(e)})),i=Object(O.b)(),l="w"===n.color?1:2,u=1===l?c:o,d=1===l?o:c,s="w"===n.color&&1===t||"b"===n.color&&2===t;return a.a.createElement(w,{currentPlayer:s,onClick:function(){if(!s)return null;i(J({square:r,piece:n.name}));var e=n.calculatePossibleMoves(r,u,d);i(R(e))}},n.icon)})),te=function(){var e=function(e){var n,r=[],t=1,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c){var o=c[0],i=c[1];r.push({piece:C(i,o),id:t++})}else r.push({id:t++,piece:null})}}catch(l){a.e(l)}finally{a.f()}return r}(Object(O.c)((function(e){return W(e)})).board);return a.a.createElement(y,null,_.map((function(e,n){return a.a.createElement(j,{key:"border_top_".concat(n),top:!!e},e)})),e.map((function(e){return function(e){var n=Math.ceil(e.id/8),r=e.id%8===1,t=e.id%8===0;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(j,{key:"border_left_".concat(S[n-1]),left:!0},S[n-1]),a.a.createElement(T,{id:e.id},e.piece&&a.a.createElement(re,{position:e.id,piece:e.piece})),t&&a.a.createElement(j,{key:"border_right_".concat(S[n-1]),right:!0},S[n-1]))}(e)})),_.map((function(e,n){return a.a.createElement(j,{key:"border_bottom_".concat(n),bottom:!!e},e)})))},ae=Object(x.a)({reducer:{board:L,players:ne}});function ce(){var e=Object(i.a)(["\n    grid-area: header;\n    align-self: center;\n    justify-self: center;\n    font-weight: bold;\n    font-size: 25px;\n"]);return ce=function(){return e},e}var oe=l.a.div(ce()),ie=function(){var e=1===Object(O.c)((function(e){return ee(e)}))?"White":"Black";return a.a.createElement(oe,null,"Current player: ".concat(e))};function le(){var e=Object(i.a)(["\n    font-size: 45px;\n"]);return le=function(){return e},e}function ue(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    padding: 40px 0;\n    min-width: 200px;\n"]);return ue=function(){return e},e}function de(){var e=Object(i.a)(["\n    font-weight: bold;\n    font-size: 20px;\n    align-text: center;\n"]);return de=function(){return e},e}function se(){var e=Object(i.a)(["\n    ","\n    justify-self: center;\n    padding: 50px 15px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n"]);return se=function(){return e},e}var fe=l.a.div(se(),(function(e){return 1===e.player?"\n                grid-area: player1;\n            ":"\n                grid-area: player2;\n            "})),be=l.a.div(de()),pe=l.a.div(ue()),ve=l.a.div(le()),he=function(e){var n=e.player,r=e.piece,t=C(r,1===n?"w":"b");return a.a.createElement(ve,null,t.icon)},ye=function(e){var n=e.player,r=Object(O.c)((function(e){return 1===n?function(e){return e.board.player1KilledPieces}(e):function(e){return e.board.player2KilledPieces}(e)}));return a.a.createElement(fe,{player:n},a.a.createElement(be,null,"Player ",n),a.a.createElement(pe,null,r.map((function(e){return a.a.createElement(he,{piece:e,player:n})}))))};function me(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    grid-area: actions;\n    height: 75px;\n"]);return me=function(){return e},e}function ge(){var e=Object(i.a)(["\n    padding: 10px 20px;\n    color: white;\n    background-color: rgb(12, 138, 242);\n    border-radius: 5px;\n    cursor: pointer;\n    border: 0;\n    font-size: 20px;\n"]);return ge=function(){return e},e}var je=l.a.button(ge()),we=l.a.div(me()),Oe=a.a.memo((function(){var e=Object(O.b)();return a.a.createElement(je,{onClick:function(){e(G())}},"Reset Board")})),xe=a.a.memo((function(){return a.a.createElement(we,null,a.a.createElement(Oe,null))}));var ke=function(){return a.a.createElement(O.a,{store:ae},a.a.createElement(d,null,a.a.createElement(ie,null),a.a.createElement(ye,{player:1}),a.a.createElement(te,null),a.a.createElement(ye,{player:2}),a.a.createElement(xe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.2140a750.chunk.js.map