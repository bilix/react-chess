(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{23:function(e,n,r){e.exports=r(38)},28:function(e,n,r){},31:function(e,n,r){},38:function(e,n,r){"use strict";r.r(n);var t=r(0),c=r.n(t),o=r(9),a=r.n(o),i=(r(28),r(1)),u=r(2);function l(){var e=Object(i.a)(['\n    display: grid;\n    grid-template-columns: auto auto auto;\n    grid-template-rows: 75px auto auto;\n    grid-template-areas: "....  header  ...."\n                         "player1  board  player2"\n                         "....  actions  ....";\n    grid-auto-columns: min-content;\n']);return l=function(){return e},e}var s=u.a.div(l()),d=(r(31),r(11));function f(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    ","\n    \n"]);return f=function(){return e},e}function p(){var e=Object(i.a)(["\n    background-color: #491E10;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    ","\n    ","\n    ","\n    ","\n"]);return p=function(){return e},e}function b(){var e=Object(i.a)(["\n    font-size: 45px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    position: relative;\n    ","\n"]);return b=function(){return e},e}function v(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 20px repeat(8, 65px) 20px;\n    grid-template-rows: 20px repeat(8, 65px) 20px;\n    grid-area: board;\n    justify-self: center;\n    align-self: center;\n"]);return v=function(){return e},e}var y,m=u.a.div(v()),h=u.a.div(b(),(function(e){return e.selected?"\n                background-color: rgb(4, 41, 247, 0.7);\n                border: 4px solid rgb(4, 41, 247);\n            ":e.killable?"\n                background-color: rgb(244, 57, 0, 0.7);\n                border: 4px solid rgb(244, 57, 0);\n                cursor: pointer;\n            ":e.available?"\n                background-color: rgb(27, 145, 11, 0.7);\n                border: 4px solid rgb(27, 145, 11);\n                cursor: pointer;\n                ".concat(g(e.adjacent),"\n            "):e.white?"\n                background-color: rgb(223, 203, 167, 1);\n            ":"\n                background-color: rgb(125, 67, 38, 1)\n            "})),g=function(e){var n="";if(e&&0!==e.length){var r,t=Object(d.a)(e);try{for(t.s();!(r=t.n()).done;){var c=r.value;n+="\n            border-".concat(c,"-width: 2px;\n        ")}}catch(o){t.e(o)}finally{t.f()}return n}},j=u.a.div(p(),(function(e){return e.top&&"\n        border-bottom: 1px solid #DFCBA7;\n    "}),(function(e){return e.bottom&&"\n        border-top: 1px solid #DFCBA7;\n    "}),(function(e){return e.left&&"\n        border-right: 1px solid #DFCBA7;\n    "}),(function(e){return e.right&&"\n        border-left: 1px solid #DFCBA7;\n    "})),w=u.a.div(f(),(function(e){if(e.currentPlayer)return"cursor: pointer;"})),I=r(3),M=r(8),O=r(4),E=r(5),x=r(6),P="UP",F="DOWN",k="LEFT",N="RIGHT",q="UP_LEFT",_="UP_RIGHT",D="DOWN_LEFT",K="DOWN_RIGHT",B=function(e,n){return e-8*n},S=function(e,n){return e+8*n},z=function(e,n){return e-n},C=function(e,n){return e+n},H=function(e,n){return e-7*n},T=function(e,n){return e-9*n},R=function(e,n){return e+7*n},A=function(e,n){return e+9*n},W=function e(n){var r=this;Object(O.a)(this,e),this.isFriendly=function(e,n){return!!n.find((function(n){return n.position===e}))},this.isEnemy=function(e,n){return!!n.find((function(n){return n.position===e}))},this.addMoves=function(e,n,t,c,o){var a=function(e){switch(e){case P:return B;case F:return S;case k:return z;case N:return C;case q:return T;case _:return H;case D:return R;case K:return A;default:return}}(n)(e,t);if(!function(e,n){switch(n){case P:return e<=0;case F:return e>64;case k:return te(e);case N:return ce(e);case q:return e<=0||te(e);case _:return e<=0||ce(e);case D:return e>64||te(e);case K:return e>64||ce(e);default:return!0}}(a,n)&&!r.isFriendly(a,c))if(r.possibleMoves.push(a),r.isEnemy(a,o)){var i=o.find((function(e){return e.position===a}));Y(i.pieceId).name.includes("k")&&(r.canKillKing=!0)}else r.addMoves(e,n,t+1,c,o)},this.calculateDiagonalMoves=function(e,n,t){r.addMoves(e,q,1,n,t),r.addMoves(e,_,1,n,t),r.addMoves(e,K,1,n,t),r.addMoves(e,D,1,n,t)},this.calculateVerticalHorizontalMoves=function(e,n,t){r.addMoves(e,P,1,n,t),r.addMoves(e,F,1,n,t),r.addMoves(e,k,1,n,t),r.addMoves(e,N,1,n,t)},this.addIfNotFriendly=function(e,n){n.find((function(n){return n.position===e}))||r.possibleMoves.push(e)},this.color=n.color,this.id=n.id,this.canKillKing=!1,this.possibleMoves=[]},G=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){t.possibleMoves=[];var c=function(e){return!!r.find((function(n){return n.position===e}))},o=B(e,1),a=B(e,2),i=S(e,1),u=S(e,2),l=T(e,1),s=H(e,1),d=R(e,1),f=A(e,1),p=ce(e)?0:e,b=te(e)?0:e,v="w"===t.color?e>=49:e<=16;return"w"===t.color?(c(o)||t.addIfNotFriendly(o,n),!v||c(o)||c(a)||t.addIfNotFriendly(a,n),p&&c(l)&&t.possibleMoves.push(l),b&&c(s)&&t.possibleMoves.push(s)):(c(i)||t.addIfNotFriendly(i,n),!v||c(i)||c(u)||t.addIfNotFriendly(u,n),p&&c(d)&&t.possibleMoves.push(d),b&&c(f)&&t.possibleMoves.push(f)),t.possibleMoves},t.icon="w"===t.color?"\u2659":"\u265f",t.name="".concat(t.color,"p"),t}return r}(W),L=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){t.possibleMoves=[];var r=e-17,c=e-15,o=e-10,a=e-6,i=e+15,u=e+17,l=e+6,s=e+10,d=function(e){return ce(e)||e%8===2},f=function(e){return te(e)||e%8===7};return r>0&&!te(r)&&t.addIfNotFriendly(r,n),c>0&&!ce(c)&&t.addIfNotFriendly(c,n),o>0&&!f(o)&&t.addIfNotFriendly(o,n),a>0&&!d(a)&&t.addIfNotFriendly(a,n),i<=64&&!te(i)&&t.addIfNotFriendly(i,n),u<=64&&!ce(u)&&t.addIfNotFriendly(u,n),l<=64&&!f(l)&&t.addIfNotFriendly(l,n),s<=64&&!d(s)&&t.addIfNotFriendly(s,n),t.possibleMoves},t.icon="w"===e.color?"\u2658":"\u265e",t.name="".concat(t.color,"h"),t}return r}(W),U=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.possibleMoves=[],t.calculateVerticalHorizontalMoves(e,n,r),t.possibleMoves},t.icon="w"===e.color?"\u2656":"\u265c",t.name="".concat(t.color,"r"),t}return r}(W),V=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.possibleMoves=[],t.calculateVerticalHorizontalMoves(e,n,r),t.calculateDiagonalMoves(e,n,r),t.possibleMoves},t.icon="w"===e.color?"\u2655":"\u265b",t.name="".concat(t.color,"q"),t}return r}(W),J=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){t.possibleMoves=[];var r=B(e,1),c=S(e,1),o=z(e,1),a=C(e,1),i=T(e,1),u=H(e,1),l=R(e,1),s=A(e,1);return r>0&&t.addIfNotFriendly(r,n),c<=64&&t.addIfNotFriendly(c,n),te(o)||t.addIfNotFriendly(o,n),ce(a)||t.addIfNotFriendly(a,n),i>0&&!te(i)&&t.addIfNotFriendly(i,n),u>0&&!ce(u)&&t.addIfNotFriendly(u,n),l<=64&&!te(l)&&t.addIfNotFriendly(l,n),s<=64&&!ce(s)&&t.addIfNotFriendly(s,n),t.possibleMoves},t.icon="w"===e.color?"\u2654":"\u265a",t.name="".concat(t.color,"k"),t}return r}(W),Q=function(e){Object(x.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(O.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.possibleMoves=[],t.calculateDiagonalMoves(e,n,r),t.possibleMoves},t.icon="w"===e.color?"\u2657":"\u265d",t.name="".concat(t.color,"b"),t}return r}(W),X=function(e,n,r){switch(e){case"p":return new G({color:n,id:r});case"r":return new U({color:n,id:r});case"h":return new L({color:n,id:r});case"q":return new V({color:n,id:r});case"k":return new J({color:n,id:r});case"b":return new Q({color:n,id:r});default:return null}},Y=function(e){return Z.find((function(n){return n.id===e}))},Z=[],$=[8,7,6,5,4,3,2,1],ee=["","a","b","c","d","e","f","g","h",""],ne=function(e,n,r){e.forEach((function(e){if(e.pieceId){var t=Y(e.pieceId),c="w"===t.color?n:r,o="w"===t.color?r:n;t.calculatePossibleMoves(e.id,c,o)}}))},re=function(e,n,r){var t=[],c=e-1,o=e+1,a=e-8,i=e+8,u=function(e,n){return!function(e){return!!r[e-1].pieceId}(e)&&t.push(n)};return n.includes(c)&&!te(c)&&u(c,"left"),n.includes(o)&&!ce(o)&&u(o,"right"),n.includes(a)&&a>0&&u(a,"top"),n.includes(i)&&i<64&&u(i,"bottom"),t},te=function(e){return e%8===0},ce=function(e){return e%8===1},oe={board:function(e){var n,r=[],t=[],c=[],o=1,a=1,i=Object(d.a)(e);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u){var l=u[0],s=u[1],f=X(s,l,a++);r.push({pieceId:f.id,id:o}),"w"===l?t.push({position:o,pieceId:f.id}):c.push({position:o,pieceId:f.id}),o++,Z.push(f)}else r.push({id:o++,pieceId:null})}}catch(p){i.e(p)}finally{i.f()}return ne(r,t,c),r}(["br","bh","bb","bq","bk","bb","bh","br","bp","bp","bp","bp","bp","bp","bp","bp","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","wp","wp","wp","wp","wp","wp","wp","wp","wr","wh","wb","wq","wk","wb","wh","wr"]),selectedPiece:{square:0,pieceId:null},availableMoves:[],player1KilledPieces:[],player2KilledPieces:[]},ae=Object(M.b)({name:"board",initialState:oe,reducers:{selectSquare:function(e,n){e.selectedPiece=n.payload},removeSquareSelection:function(e){e.selectedPiece={square:0,pieceId:null}},setMoves:function(e,n){e.availableMoves=n.payload},movePiece:function(e,n){var r=e.board[n.payload-1];r.pieceId&&("w"===Y(r.pieceId).color?e.player1KilledPieces.push(r.pieceId):e.player2KilledPieces.push(r.pieceId));e.board[e.selectedPiece.square-1].pieceId=null,e.board[n.payload-1].pieceId=e.selectedPiece.pieceId,e.selectedPiece={square:0,pieceId:null},e.availableMoves=[],ne(e.board,le(1,e.board),le(2,e.board))},resetBoard:function(){return oe}}}),ie=ae.reducer,ue=ae.actions,le=function(e,n){for(var r=[],t=1===e?"w":"b",c=0;c<n.length;c++)if(n[c].pieceId){var o=Y(n[c].pieceId);o.color===t&&r.push({position:c+1,pieceId:o.id})}return r},se=function(e){return e.board},de=ue.selectSquare,fe=(ue.removeSquareSelection,ue.setMoves),pe=ue.movePiece,be=ue.resetBoard,ve=ie,ye=c.a.memo((function(e){var n=e.squareNumber,r=e.children,t=Object(I.c)((function(e){return se(e)})),o=Object(I.b)(),a=t.availableMoves.includes(n);if(a)var i=re(n,t.availableMoves,t.board);var u=n===t.selectedPiece.square,l=a&&null!==r,s=function(e){var n=Math.ceil(e/8)%2===1;return n&&e%8%2===1||!n&&e%8%2===0}(n);return c.a.createElement(h,{key:"square_".concat(n),adjacent:i,onClick:function(){a&&o(pe(n))},killable:l,available:a,selected:u,white:s},r)})),me=r(16),he=Object(M.b)({name:"players",initialState:{currentPlayer:1},reducers:{selectPlayer:function(e,n){e.currentPlayer=n.payload}},extraReducers:(y={},Object(me.a)(y,pe,(function(e){e.currentPlayer=1===e.currentPlayer?2:1})),Object(me.a)(y,be,(function(e){e.currentPlayer=1})),y)}),ge=he.reducer,je=he.actions,we=function(e){return e.players.currentPlayer},Ie=(je.selectPlayer,ge),Me=c.a.memo((function(e){var n=e.pieceId,r=e.position,t=Object(I.c)((function(e){return we(e)})),o=Object(I.b)(),a=Y(n),i=("w"===a.color?1:2)===t;return c.a.createElement(w,{currentPlayer:i,onClick:function(){if(!i)return null;o(de({square:r,pieceId:n}));var e=a.possibleMoves;o(fe(e))}},a.icon)})),Oe=function(){return ee.map((function(e,n){return c.a.createElement(j,{key:"border_top_".concat(n),top:!!e},e)}))},Ee=function(){return ee.map((function(e,n){return c.a.createElement(j,{key:"border_bottom_".concat(n),bottom:!!e},e)}))},xe=function(){var e=Object(I.c)((function(e){return se(e)})).board;return c.a.createElement(m,null,c.a.createElement(Oe,null),e.map((function(e){return function(e){var n=Math.ceil(e.id/8),r=ce(e.id),t=te(e.id);return c.a.createElement(c.a.Fragment,{key:"square_container_".concat(e.id)},r&&c.a.createElement(j,{key:"border_left_".concat($[n-1]),left:!0},$[n-1]),c.a.createElement(ye,{squareNumber:e.id},e.pieceId&&c.a.createElement(Me,{position:e.id,pieceId:e.pieceId})),t&&c.a.createElement(j,{key:"border_right_".concat($[n-1]),right:!0},$[n-1]))}(e)})),c.a.createElement(Ee,null))},Pe=Object(M.a)({reducer:{board:ve,players:Ie}});function Fe(){var e=Object(i.a)(["\n    grid-area: header;\n    align-self: center;\n    justify-self: center;\n    font-weight: bold;\n    font-size: 25px;\n"]);return Fe=function(){return e},e}var ke=u.a.div(Fe()),Ne=function(){var e=1===Object(I.c)((function(e){return we(e)}))?"White":"Black";return c.a.createElement(ke,null,"Current player: ".concat(e))};function qe(){var e=Object(i.a)(["\n    font-size: 45px;\n"]);return qe=function(){return e},e}function _e(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    padding: 40px 0;\n    min-width: 200px;\n"]);return _e=function(){return e},e}function De(){var e=Object(i.a)(["\n    font-weight: bold;\n    font-size: 20px;\n    align-text: center;\n"]);return De=function(){return e},e}function Ke(){var e=Object(i.a)(["\n    ","\n    justify-self: center;\n    padding: 50px 15px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n"]);return Ke=function(){return e},e}var Be=u.a.div(Ke(),(function(e){return 1===e.player?"\n                grid-area: player1;\n            ":"\n                grid-area: player2;\n            "})),Se=u.a.div(De()),ze=u.a.div(_e()),Ce=u.a.div(qe()),He=function(e){var n=e.player,r=e.pieceId,t=Y(r,1===n?"w":"b");return c.a.createElement(Ce,null,t.icon)},Te=function(e){var n=e.player,r=Object(I.c)((function(e){return 1===n?function(e){return e.board.player1KilledPieces}(e):function(e){return e.board.player2KilledPieces}(e)}));return c.a.createElement(Be,{player:n},c.a.createElement(Se,null,"Player ",n),c.a.createElement(ze,null,r.map((function(e,r){return c.a.createElement(He,{key:"dead_piece_".concat(n,"_").concat(r),pieceId:e,player:n})}))))};function Re(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    grid-area: actions;\n    height: 75px;\n"]);return Re=function(){return e},e}function Ae(){var e=Object(i.a)(["\n    padding: 10px 20px;\n    color: white;\n    background-color: rgb(12, 138, 242);\n    border-radius: 5px;\n    cursor: pointer;\n    border: 0;\n    font-size: 20px;\n"]);return Ae=function(){return e},e}var We=u.a.button(Ae()),Ge=u.a.div(Re()),Le=c.a.memo((function(){var e=Object(I.b)();return c.a.createElement(We,{onClick:function(){e(be())}},"Reset Board")})),Ue=c.a.memo((function(){return c.a.createElement(Ge,null,c.a.createElement(Le,null))}));var Ve=function(){return c.a.createElement(I.a,{store:Pe},c.a.createElement(s,null,c.a.createElement(Ne,null),c.a.createElement(Te,{player:1}),c.a.createElement(xe,null),c.a.createElement(Te,{player:2}),c.a.createElement(Ue,null)))};a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ve,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e267f9ed.chunk.js.map