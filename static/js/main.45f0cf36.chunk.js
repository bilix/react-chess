(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{23:function(e,n,r){e.exports=r(38)},28:function(e,n,r){},31:function(e,n,r){},38:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),c=r(9),o=r.n(c),i=(r(28),r(2)),u=r(3);function l(){var e=Object(i.a)(['\n    display: grid;\n    grid-template-columns: auto auto auto;\n    grid-template-rows: 75px auto auto;\n    grid-template-areas: "....  header  ...."\n                         "player1  board  player2"\n                         "....  actions  ....";\n    grid-auto-columns: min-content;\n']);return l=function(){return e},e}var d=u.a.div(l()),s=(r(31),r(11));function f(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    ","\n    \n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n    background-color: #491E10;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    ","\n    ","\n    ","\n    ","\n"]);return b=function(){return e},e}function p(){var e=Object(i.a)(["\n    font-size: 45px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n    position: relative;\n    ","\n"]);return p=function(){return e},e}function v(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 20px repeat(8, 65px) 20px;\n    grid-template-rows: 20px repeat(8, 65px) 20px;\n    grid-area: board;\n    justify-self: center;\n    align-self: center;\n"]);return v=function(){return e},e}var y,m=u.a.div(v()),h=u.a.div(p(),(function(e){return e.selected?"\n                background-color: rgb(4, 41, 247, 0.7);\n                border: 4px solid rgb(4, 41, 247);\n            ":e.killable?"\n                background-color: rgb(244, 57, 0, 0.7);\n                border: 4px solid rgb(244, 57, 0);\n                cursor: pointer;\n            ":e.available?"\n                background-color: rgb(27, 145, 11, 0.7);\n                border: 4px solid rgb(27, 145, 11);\n                cursor: pointer;\n                ".concat(g(e.adjacent),"\n            "):e.white?"\n                background-color: rgb(223, 203, 167, 1);\n            ":"\n                background-color: rgb(125, 67, 38, 1)\n            "})),g=function(e){var n="";if(e&&0!==e.length){var r,t=Object(s.a)(e);try{for(t.s();!(r=t.n()).done;){var a=r.value;n+="\n            border-".concat(a,"-width: 2px;\n        ")}}catch(c){t.e(c)}finally{t.f()}return n}},j=u.a.div(b(),(function(e){return e.top&&"\n        border-bottom: 1px solid #DFCBA7;\n    "}),(function(e){return e.bottom&&"\n        border-top: 1px solid #DFCBA7;\n    "}),(function(e){return e.left&&"\n        border-right: 1px solid #DFCBA7;\n    "}),(function(e){return e.right&&"\n        border-left: 1px solid #DFCBA7;\n    "})),w=u.a.div(f(),(function(e){if(e.currentPlayer)return"cursor: pointer;"})),O=r(1),x=r(8),P=r(4),E=r(5),k=r(6),F=function(e,n){return e-8*n},M=function(e,n){return e+8*n},N=function(e,n){return e-n},I=function(e,n){return e+n},q=function(e,n){return e-7*n},_=function(e,n){return e-9*n},B=function(e,n){return e+7*n},S=function(e,n){return e+9*n},z=function e(n){Object(P.a)(this,e),this.calculatePossibleMoves=function(){return[]},this.calculateDiagonalMoves=function(e,n,r){var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)};return function e(n,r,t,a,c){var o=_(n,r);o<=0||L(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=q(n,r);o<=0||Q(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=S(n,r);o>64||Q(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=B(n,r);o>64||L(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),t},this.calculateVerticalHorizontalMoves=function(e,n,r){var t=[],a=function(e){return n.includes(e)},c=function(e){return r.includes(e)};return function e(n,r,t,a,c){var o=F(n,r);o<=0||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=M(n,r);o>64||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=N(n,r);L(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),function e(n,r,t,a,c){var o=I(n,r);Q(o)||a(o)||(t.push(o),c(o)||e(n,r+1,t,a,c))}(e,1,t,a,c),t},this.addIfNotFriendly=function(e,n,r){n.includes(e)||r.push(e)},this.color=n.color},C=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=[],c=function(e){return r.includes(e)},o=F(e,1),i=F(e,2),u=M(e,1),l=M(e,2),d=_(e,1),s=q(e,1),f=B(e,1),b=S(e,1),p=Q(e)?0:e,v=L(e)?0:e,y="w"===t.color?e>=49:e<=16;return"w"===t.color?(c(o)||t.addIfNotFriendly(o,n,a),!y||c(o)||c(i)||t.addIfNotFriendly(i,n,a),p&&c(d)&&a.push(d),v&&c(s)&&a.push(s)):(c(u)||t.addIfNotFriendly(u,n,a),!y||c(u)||c(l)||t.addIfNotFriendly(l,n,a),p&&c(f)&&a.push(f),v&&c(b)&&a.push(b)),a},t.icon="w"===t.color?"\u2659":"\u265f",t.name="".concat(t.color,"p"),t}return r}(z),D=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){var r=[],a=e-17,c=e-15,o=e-10,i=e-6,u=e+15,l=e+17,d=e+6,s=e+10,f=function(e){return Q(e)||e%8===2},b=function(e){return L(e)||e%8===7};return a>0&&!L(a)&&t.addIfNotFriendly(a,n,r),c>0&&!Q(c)&&t.addIfNotFriendly(c,n,r),o>0&&!b(o)&&t.addIfNotFriendly(o,n,r),i>0&&!f(i)&&t.addIfNotFriendly(i,n,r),u<=64&&!L(u)&&t.addIfNotFriendly(u,n,r),l<=64&&!Q(l)&&t.addIfNotFriendly(l,n,r),d<=64&&!b(d)&&t.addIfNotFriendly(d,n,r),s<=64&&!f(s)&&t.addIfNotFriendly(s,n,r),r},t.icon="w"===e.color?"\u2658":"\u265e",t.name="".concat(t.color,"h"),t}return r}(z),K=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateVerticalHorizontalMoves(e,n,r)},t.icon="w"===e.color?"\u2656":"\u265c",t.name="".concat(t.color,"r"),t}return r}(z),A=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){var a=t.calculateVerticalHorizontalMoves(e,n,r),c=t.calculateDiagonalMoves(e,n,r);return a.concat(c)},t.icon="w"===e.color?"\u2655":"\u265b",t.name="".concat(t.color,"q"),t}return r}(z),H=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n){var r=[],a=F(e,1),c=M(e,1),o=N(e,1),i=I(e,1),u=_(e,1),l=q(e,1),d=B(e,1),s=S(e,1);return a>0&&t.addIfNotFriendly(a,n,r),c<=64&&t.addIfNotFriendly(c,n,r),L(o)||t.addIfNotFriendly(o,n,r),Q(i)||t.addIfNotFriendly(i,n,r),u>0&&!L(u)&&t.addIfNotFriendly(u,n,r),l>0&&!Q(l)&&t.addIfNotFriendly(l,n,r),d<=64&&!L(d)&&t.addIfNotFriendly(d,n,r),s<=64&&!Q(s)&&t.addIfNotFriendly(s,n,r),r},t.icon="w"===e.color?"\u2654":"\u265a",t.name="".concat(t.color,"k"),t}return r}(z),V=function(e){Object(k.a)(r,e);var n=Object(E.a)(r);function r(e){var t;return Object(P.a)(this,r),(t=n.call(this,e)).calculatePossibleMoves=function(e,n,r){return t.calculateDiagonalMoves(e,n,r)},t.icon="w"===e.color?"\u2657":"\u265d",t.name="".concat(t.color,"b"),t}return r}(z),J=[8,7,6,5,4,3,2,1],R=["","a","b","c","d","e","f","g","h",""],W=function(e,n){switch(e){case"p":return new C({color:n});case"r":return new K({color:n});case"h":return new D({color:n});case"q":return new A({color:n});case"k":return new H({color:n});case"b":return new V({color:n});default:return null}},G=function(e,n,r){var t=[],a=e-1,c=e+1,o=e-8,i=e+8,u=function(e,n){return!function(e){return!!r[e-1]}(e)&&t.push(n)};return n.includes(a)&&!L(a)&&u(a,"left"),n.includes(c)&&!Q(c)&&u(c,"right"),n.includes(o)&&o>0&&u(o,"top"),n.includes(i)&&i<64&&u(i,"bottom"),t},L=function(e){return e%8===0},Q=function(e){return e%8===1},T={board:["br","bh","bb","bq","bk","bb","bh","br","bp","bp","bp","bp","bp","bp","bp","bp","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","wp","wp","wp","wp","wp","wp","wp","wp","wr","wh","wb","wq","wk","wb","wh","wr"],selectedPiece:{square:0,piece:""},availableMoves:[],player1KilledPieces:[],player2KilledPieces:[]},U=Object(x.b)({name:"board",initialState:T,reducers:{selectSquare:function(e,n){e.selectedPiece=n.payload},removeSquareSelection:function(e){e.selectedPiece={square:0,piece:""}},setMoves:function(e,n){e.availableMoves=n.payload},movePiece:function(e,n){var r=e.board[n.payload-1];if(r){var t=r[0],a=r[1];"w"===t?e.player1KilledPieces.push(a):e.player2KilledPieces.push(a)}e.board[e.selectedPiece.square-1]="",e.board[n.payload-1]=e.selectedPiece.piece,e.selectedPiece={square:0,piece:""},e.availableMoves=[]},resetBoard:function(e){return T}}}),X=U.reducer,Y=U.actions,Z=function(e,n){for(var r=[],t=1===e?"w":"b",a=0;a<n.length;a++)n[a]&&n[a][0]===t&&r.push(a+1);return r},$=function(e){return e.board},ee=Y.selectSquare,ne=(Y.removeSquareSelection,Y.setMoves),re=Y.movePiece,te=Y.resetBoard,ae=X,ce=a.a.memo((function(e){var n=e.squareNumber,r=e.children,t=Object(O.c)((function(e){return $(e)})),c=Object(O.b)(),o=t.availableMoves.includes(n);if(o)var i=G(n,t.availableMoves,t.board);var u=n===t.selectedPiece.square,l=o&&null!==r,d=function(e){var n=Math.ceil(e/8)%2===1;return n&&e%8%2===1||!n&&e%8%2===0}(n);return a.a.createElement(h,{key:"square_".concat(n),adjacent:i,onClick:function(){o&&c(re(n))},killable:l,available:o,selected:u,white:d},r)})),oe=r(16),ie=Object(x.b)({name:"players",initialState:{currentPlayer:1},reducers:{selectPlayer:function(e,n){e.currentPlayer=n.payload}},extraReducers:(y={},Object(oe.a)(y,re,(function(e){e.currentPlayer=1===e.currentPlayer?2:1})),Object(oe.a)(y,te,(function(e){e.currentPlayer=1})),y)}),ue=ie.reducer,le=ie.actions,de=function(e){return e.players.currentPlayer},se=(le.selectPlayer,ue),fe=a.a.memo((function(e){var n=e.piece,r=e.position,t=Object(O.c)((function(e){return de(e)})),c=Object(O.c)((function(e){return function(e){var n=e.board.board;return Z(1,n)}(e)})),o=Object(O.c)((function(e){return function(e){var n=e.board.board;return Z(2,n)}(e)})),i=Object(O.b)(),u="w"===n.color?1:2,l=1===u?c:o,d=1===u?o:c,s=u===t;return a.a.createElement(w,{currentPlayer:s,onClick:function(){if(!s)return null;i(ee({square:r,piece:n.name}));var e=n.calculatePossibleMoves(r,l,d);i(ne(e))}},n.icon)})),be=function(){return R.map((function(e,n){return a.a.createElement(j,{key:"border_top_".concat(n),top:!!e},e)}))},pe=function(){return R.map((function(e,n){return a.a.createElement(j,{key:"border_bottom_".concat(n),bottom:!!e},e)}))},ve=function(){var e=function(e){var n,r=[],t=1,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c){var o=c[0],i=c[1];r.push({piece:W(i,o),id:t++})}else r.push({id:t++,piece:null})}}catch(u){a.e(u)}finally{a.f()}return r}(Object(O.c)((function(e){return $(e)})).board);return a.a.createElement(m,null,a.a.createElement(be,null),e.map((function(e){return function(e){var n=Math.ceil(e.id/8),r=Q(e.id),t=L(e.id);return a.a.createElement(a.a.Fragment,{key:"square_container_".concat(e.id)},r&&a.a.createElement(j,{key:"border_left_".concat(J[n-1]),left:!0},J[n-1]),a.a.createElement(ce,{squareNumber:e.id},e.piece&&a.a.createElement(fe,{position:e.id,piece:e.piece})),t&&a.a.createElement(j,{key:"border_right_".concat(J[n-1]),right:!0},J[n-1]))}(e)})),a.a.createElement(pe,null))},ye=Object(x.a)({reducer:{board:ae,players:se}});function me(){var e=Object(i.a)(["\n    grid-area: header;\n    align-self: center;\n    justify-self: center;\n    font-weight: bold;\n    font-size: 25px;\n"]);return me=function(){return e},e}var he=u.a.div(me()),ge=function(){var e=1===Object(O.c)((function(e){return de(e)}))?"White":"Black";return a.a.createElement(he,null,"Current player: ".concat(e))};function je(){var e=Object(i.a)(["\n    font-size: 45px;\n"]);return je=function(){return e},e}function we(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    padding: 40px 0;\n    min-width: 200px;\n"]);return we=function(){return e},e}function Oe(){var e=Object(i.a)(["\n    font-weight: bold;\n    font-size: 20px;\n    align-text: center;\n"]);return Oe=function(){return e},e}function xe(){var e=Object(i.a)(["\n    ","\n    justify-self: center;\n    padding: 50px 15px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n"]);return xe=function(){return e},e}var Pe=u.a.div(xe(),(function(e){return 1===e.player?"\n                grid-area: player1;\n            ":"\n                grid-area: player2;\n            "})),Ee=u.a.div(Oe()),ke=u.a.div(we()),Fe=u.a.div(je()),Me=function(e){var n=e.player,r=e.piece,t=W(r,1===n?"w":"b");return a.a.createElement(Fe,null,t.icon)},Ne=function(e){var n=e.player,r=Object(O.c)((function(e){return 1===n?function(e){return e.board.player1KilledPieces}(e):function(e){return e.board.player2KilledPieces}(e)}));return a.a.createElement(Pe,{player:n},a.a.createElement(Ee,null,"Player ",n),a.a.createElement(ke,null,r.map((function(e,r){return a.a.createElement(Me,{key:"dead_piece_".concat(n,"_").concat(r),piece:e,player:n})}))))};function Ie(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    grid-area: actions;\n    height: 75px;\n"]);return Ie=function(){return e},e}function qe(){var e=Object(i.a)(["\n    padding: 10px 20px;\n    color: white;\n    background-color: rgb(12, 138, 242);\n    border-radius: 5px;\n    cursor: pointer;\n    border: 0;\n    font-size: 20px;\n"]);return qe=function(){return e},e}var _e=u.a.button(qe()),Be=u.a.div(Ie()),Se=a.a.memo((function(){var e=Object(O.b)();return a.a.createElement(_e,{onClick:function(){e(te())}},"Reset Board")})),ze=a.a.memo((function(){return a.a.createElement(Be,null,a.a.createElement(Se,null))}));var Ce=function(){return a.a.createElement(O.a,{store:ye},a.a.createElement(d,null,a.a.createElement(ge,null),a.a.createElement(Ne,{player:1}),a.a.createElement(ve,null),a.a.createElement(Ne,{player:2}),a.a.createElement(ze,null)))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ce,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.45f0cf36.chunk.js.map